create VIEW `vw_inv_categorias_vendidos` AS   SELECT 
        `inv_categorias`.`id` AS `id`,
        `inv_categorias`.`idPadreCategoria` AS `idPadreCategoria`,
        `inv_categorias`.`letra` AS `letra`,
        `inv_categorias`.`nombre` AS `nombre`,
        `inv_categorias`.`descripcion` AS `descripcion`,
        `inv_categorias`.`tipo` AS `tipo`,
        `inv_categorias`.`contador` AS `contador`,
        `inv_categorias`.`tipo_descripcion` AS `tipo_descripcion`,
        `inv_categorias`.`usuario_creacion` AS `usuario_creacion`,
        `inv_categorias`.`usuario_edicion` AS `usuario_edicion`,
        `inv_categorias`.`fecha_creacion` AS `fecha_creacion`,
        `inv_categorias`.`fecha_actualizacion` AS `fecha_actualizacion`,
        COALESCE(`inv_categorias`.`idCuentaContable`, 0) AS `idCuentaContable`,
        COALESCE(`cnt_cuentas`.`nombre_cuenta`, 'NA') AS `NombreCuentaContable`,
        JSON_OBJECT('id',
                `inv_categorias`.`id`,
                'idPadreCategoria',
                `inv_categorias`.`idPadreCategoria`,
                'letra',
                `inv_categorias`.`letra`,
                'nombre',
                `inv_categorias`.`nombre`,
                'descripcion',
                `inv_categorias`.`descripcion`,
                'tipo',
                `inv_categorias`.`tipo`,
                'contador',
                `inv_categorias`.`contador`,
                'tipo_descripcion',
                `inv_categorias`.`tipo_descripcion`,
                'usuario_creacion',
                `inv_categorias`.`usuario_creacion`,
                'usuario_edicion',
                `inv_categorias`.`usuario_edicion`,
                'fecha_creacion',
                `inv_categorias`.`fecha_creacion`,
                'fecha_actualizacion',
                `inv_categorias`.`fecha_actualizacion`,
                'name_usuario_creacion',
                `creador`.`nombreCompleto`,
                'name_usuario_edicion',
                `editor`.`nombreCompleto`,
                'nombre_estado',
                `estado`.`nombre_estado`,
                'idCuentaContable',
                COALESCE(`inv_categorias`.`idCuentaContable`, 0),
                'NombreCuentaContable',
                COALESCE(`cnt_cuentas`.`nombre_cuenta`, 'NA')) AS `obj`
    FROM
        ((((`inv_categorias`
        LEFT JOIN `usuarios` `creador` ON ((`creador`.`ID` = `inv_categorias`.`usuario_creacion`)))
        LEFT JOIN `usuarios` `editor` ON ((`editor`.`ID` = `inv_categorias`.`usuario_edicion`)))
        LEFT JOIN `estado_registro` `estado` ON ((`estado`.`id` = `inv_categorias`.`tipo`)))
        LEFT JOIN `cnt_cuentas` ON ((`cnt_cuentas`.`id_cuenta` = `inv_categorias`.`idCuentaContable`)));