<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <h2 class="text-center">Creación de Cajas</h2>
        </div>
    </div>
    <form>
        <div class="row">
            <div class="col-sm-2"></div>
            <div class="col-sm-2">
                <label for="nombreCaja">Nombre</label> 
                <input type="text" class="form-control" id="nombreCaja" [(ngModel)]="newCaja.nombre" name="nombre" placeholder="Nombre de la caja...">
            </div>
            <div class="col-sm-2" style="margin-right: 15px;">
                <label for="estadoCaja">Estado</label> 
                <select class="form-control" id="estadoCaja" [(ngModel)]="newCaja.estadoGeneral" name="estado">
                    <option value="0">Estado</option>
                    <option value="1">Activo</option>
                    <option value="2">Inactivo</option>
                </select>
            </div>
            <div class="col-sm-2" style="margin-right: 15px;">
                <label for="establecimientoCaja">Establecimiento</label>
            
                <select class="form-control" id="establecimientoCaja" [(ngModel)]="newCaja.establecimiento" name="establecimiento">
                    <option value="0">Establecimiento</option>
                    <option *ngFor="let item of esta" [ngValue]="item.id">{{item.nombre}}</option>
                </select>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-sm-2"></div>
            <div class="col-sm-2">
                <label for="descripcionCaja">Descripción</label> 
                <textarea [(ngModel)]="newCaja.descripcion" id="descripcionCaja" name="descripcion" class="form-control" placeholder="Descripcion..."></textarea>
            </div>
            <div class="col-sm-2" style="margin-right: 15px;">
                <label for="establecimientoCaja">Cuenta Para Efectivo</label> 
                <div class="input-group mb-3">
                   
                    <input type="text"[(ngModel)]="newCaja.nombre_scuenta_venta" name="nombreSubcuentaVenta" class="form-control" placeholder="cuenta efectivo" aria-label="Username" aria-describedby="basic-addon1">  
                    <button type="button" class="btn btn-outline-primary" (click)='buscarCuentasContablesEfectivo()'>
                        <i class="bi bi-search"></i>  
                    </button>
                </div>
            </div>
            <div class="col-sm-2" style="margin-right: 15px;">
                <label for="establecimientoCaja">Cuenta Para Gastos</label> 
                <div class="input-group mb-3">
                   
                    <input type="text" class="form-control" placeholder="cuenta gastos" [(ngModel)]="newCaja.nombre_scuenta_gastos" name="nombreSubcuentaGastos"  aria-label="Username"  aria-describedby="basic-addon1">  
                    <button type="button"class="btn btn-outline-primary" (click)='buscarCuentasContablesGastos()'>
                        <i class="bi bi-search"></i>  
                    </button>
                </div>
            </div>
        </div>
        <br>
        <div class="row mt-3" *ngIf="guardarBtn">
            <div class="col-sm-2"></div>
            <div class="col-sm-4 text-center">
                <button type="button" class="btn btn-outline-primary" (click)='guardarCaja()'>
                    <i class="bi bi-save"></i> Guardar
                </button>
                <button type="button" class="btn btn-outline-danger" (click)='Cancelar()'>
                    <i class="bi bi-trash"></i> Cancelar
                </button>
            </div>
        </div>
    </form>
    <hr>
    <br>
    <div class="row">
        <div class="col-sm-12">
            <table class="table" *ngIf="cajas.length > 0">
                <thead>
                    <tr>
                        <th>Nombre</th> 
                        <th>Estado General</th>
                        <th>cuenta de gastos</th>
                        <th>cuenta de efectivo</th>
                        <th>Estado (Abierto/Cerrado)</th> 
                        <th>Establecimiento</th>
                        <th>Opción</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let caja of cajas" title="{{caja.descripcion}}">
                        <td>{{caja.nombre}}</td> 
                        <td>{{caja.nombreEstadoGeneral}}</td>
                        <td>{{caja.nombre_scuenta_gastos}}</td>
                        <td>{{caja.nombre_scuenta_venta}}</td>
                        <td>{{caja.nombreEstado}}</td> 
                        <td>{{caja.nombreEstablecimiento}}</td>
                        <td>
                            <i class="bi bi-pencil-fill boton_activo" (click)="setActualizaCaja(caja)"></i>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>